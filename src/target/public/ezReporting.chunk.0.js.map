{"version":3,"file":"ezReporting.chunk.0.js","sources":["/plugin:ezReporting/plugins/ezreporting/lib/reporting.tsx","/plugin:ezReporting/plugins/ezreporting/public/application.tsx","/plugin:ezReporting/plugins/ezreporting/public/components/app.tsx","/plugin:ezReporting/plugins/ezreporting/public/components/flyout/edit.tsx","/plugin:ezReporting/plugins/ezreporting/public/components/flyout/history.tsx","/plugin:ezReporting/plugins/ezreporting/public/components/table.tsx","/plugin:ezReporting/plugins/ezreporting/public/images/printer.png"],"sourcesContent":["import { PLUGIN_ID } from '../common';\nexport const convertFrequency = (frequencies, frequency) => {\n  const freq = frequencies.find(f => f.value === frequency);\n  return freq ? freq.text : 'Error';\n};\nexport const defaultTask = dashboardId => ({\n  id: '',\n  dashboardId: dashboardId || null,\n  exists: true,\n  reporting: {\n    frequency: '1w',\n    emails: [],\n    createdAt: '',\n    print: false\n  },\n  space: ''\n});\nexport const ms2Str = time => {\n  let ms = time;\n  let s = Math.floor(ms / 1000);\n  ms %= 1000;\n  let m = Math.floor(s / 60);\n  s %= 60;\n  const h = Math.floor(m / 60);\n  m %= 60;\n\n  if (h) {\n    return `${h}h ${m}m`;\n  }\n\n  if (m) {\n    return `${m}m ${s}s`;\n  }\n\n  if (s) {\n    return `${s}s`;\n  }\n\n  return `${ms}ms`;\n};\nexport let httpClient;\nexport function setHttpClient(http) {\n  httpClient = http;\n}\nexport let toasts;\nexport function setToasts(notifications) {\n  toasts = notifications;\n}\nexport let capabilities;\nexport function setCapabilities(capa) {\n  capabilities = capa[PLUGIN_ID] || {};\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { EzReportingApp } from './components/app';\nimport { httpClient, setHttpClient, toasts, setToasts, capabilities, setCapabilities } from '../lib/reporting';\n\nconst renderApp = ({\n  application,\n  notifications,\n  http\n}, {\n  navigation\n}, {\n  element\n}, applicationName, admin) => {\n  if (!httpClient) {\n    setHttpClient(http);\n  }\n\n  if (!toasts) {\n    setToasts(notifications.toasts);\n  }\n\n  if (!capabilities) {\n    setCapabilities(application.capabilities);\n  }\n\n  ReactDOM.render( /*#__PURE__*/React.createElement(EzReportingApp, {\n    basename: http.basePath.get(),\n    navigation: navigation,\n    applicationName: applicationName,\n    admin: admin\n  }), element);\n  return () => ReactDOM.unmountComponentAtNode(element);\n};\n\nexport async function mountApp({\n  coreStart,\n  depsStart,\n  params,\n  applicationName,\n  admin\n}) {\n  return renderApp(coreStart, depsStart, params, applicationName, admin);\n}","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component, Fragment } from 'react';\nimport { FormattedMessage, I18nProvider } from '@kbn/i18n/react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { EuiButton, EuiPage, EuiPageBody, EuiPageContent, EuiPageContentBody, EuiEmptyPrompt, EuiFlexGroup, EuiFlexItem, EuiComboBox, EuiSpacer, EuiOverlayMask, EuiConfirmModal, EuiPopover, EuiContextMenu, EuiIcon, EuiHealth, EuiHighlight, EuiPageHeader } from '@elastic/eui';\nimport { i18n } from '@kbn/i18n';\nimport { PLUGIN_ID, PLUGIN_NAME } from '../../common';\nimport { EzReportingTable } from './table';\nimport { EzReportingTaskEditFlyout, openFlyOut as openEditFlyOut, closeFlyOut as closeEditFlyOutHandler } from './flyout/edit';\nimport { EzReportingHistoryFlyout } from './flyout/history';\nimport { httpClient, toasts, capabilities } from '../../lib/reporting';\nexport class EzReportingApp extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"state\", void 0);\n\n    _defineProperty(this, \"props\", void 0);\n\n    _defineProperty(this, \"componentDidMount\", () => {\n      this.refreshData();\n    });\n\n    _defineProperty(this, \"polling\", async () => {\n      const {\n        tasks,\n        tasksInProgress\n      } = this.state;\n\n      if (tasks.length) {\n        const tmp = JSON.parse(JSON.stringify(tasksInProgress));\n        tasks.forEach(({\n          id\n        }) => {\n          httpClient.get(`/api/ezreporting/tasks/${id}/history`).then(histories => {\n            if (histories.length) {\n              const {\n                status,\n                logs,\n                startTime,\n                endTime\n              } = histories.shift();\n\n              if (status !== 'success') {\n                if (new Date(endTime).toISOString() <= new Date().toISOString()) {\n                  const log = logs.find(({\n                    type\n                  }) => type === 'error');\n                  tmp[id] = {\n                    status,\n                    log: log ? log.message : '',\n                    startTime,\n                    endTime\n                  };\n                }\n              }\n            }\n          });\n          this.setState({\n            tasksInProgress: tmp\n          });\n          this.forceUpdate();\n        });\n      }\n\n      return new Promise(() => setTimeout(this.polling, this.state.delay));\n    });\n\n    _defineProperty(this, \"refreshData\", () => {\n      const {\n        admin\n      } = this.props;\n      httpClient.get(`/api/ezreporting/tasks${admin ? '/management' : ''}`).then(res => {\n        this.setState({\n          tasks: res.tasks,\n          dashboards: res.dashboards,\n          frequencies: res.frequencies,\n          spaces: this.props.admin ? res.spaces : []\n        });\n        this.polling();\n      }).catch(err => {\n        console.log(err);\n\n        if (err.code === 403) {\n          this.setState({\n            accessDenied: true\n          });\n        }\n\n        return toasts.addDanger({\n          title: 'Error',\n          text: /*#__PURE__*/React.createElement(FormattedMessage, {\n            id: \"ezReporting.errorOccured\",\n            defaultMessage: \"An error occurred while loading the data.\"\n          })\n        });\n      });\n    });\n\n    _defineProperty(this, \"editTaskHandler\", task => {\n      if (capabilities.edit) {\n        const body = JSON.stringify({\n          dashboardId: task.dashboardId,\n          frequency: task.reporting.frequency,\n          emails: task.reporting.emails,\n          print: task.reporting.print,\n          space: task.space\n        });\n        return httpClient.patch(`/api/ezreporting/tasks/${task.id}`, {\n          body\n        }).then(() => {\n          const index = this.state.tasks.findIndex(({\n            id\n          }) => id === task.id);\n          this.refreshData();\n          toasts.addSuccess({\n            title: 'Success',\n            text: /*#__PURE__*/React.createElement(FormattedMessage, {\n              id: \"ezReporting.editingSuccess\",\n              defaultMessage: \"Task edited successfully.\"\n            })\n          });\n          this.closeEditFlyOut();\n          this.forceUpdate();\n        });\n      }\n    });\n\n    _defineProperty(this, \"closeEditFlyOut\", () => {\n      closeEditFlyOutHandler();\n    });\n\n    _defineProperty(this, \"saveTaskHandler\", task => {\n      if (capabilities.create) {\n        const tasks = this.state.tasks;\n        const body = JSON.stringify({\n          dashboardId: task.dashboardId,\n          frequency: task.reporting.frequency,\n          emails: task.reporting.emails,\n          print: task.reporting.print,\n          space: task.space\n        });\n        return httpClient.post('/api/ezreporting/tasks', {\n          body\n        }).then(res => {\n          this.refreshData();\n          toasts.addSuccess({\n            title: 'Success',\n            text: /*#__PURE__*/React.createElement(FormattedMessage, {\n              id: \"ezreporting.creationSuccess\",\n              defaultMessage: \"Task saved successfully.\"\n            })\n          });\n          this.closeEditFlyOut();\n          this.forceUpdate();\n        });\n      }\n    });\n\n    _defineProperty(this, \"downloadManyTask\", () => {\n      const {\n        selectedItems\n      } = this.state;\n\n      if (capabilities.download && selectedItems.length) {\n        selectedItems.forEach(({\n          id\n        }) => {\n          httpClient.get(`/api/ezreporting/tasks/${id}/download`).then(() => {\n            toasts.addSuccess({\n              title: 'Success',\n              text: /*#__PURE__*/React.createElement(FormattedMessage, {\n                id: \"ezReporting.generated\",\n                defaultMessage: \"Your report will be sent to you by email.\"\n              })\n            });\n          }).catch(() => {\n            toasts.addDanger({\n              title: 'Error',\n              text: /*#__PURE__*/React.createElement(FormattedMessage, {\n                id: \"ezReporting.generationError\",\n                defaultMessage: \"An error occurred while generating the report.\"\n              })\n            });\n          });\n        });\n      }\n    });\n\n    _defineProperty(this, \"onChange\", selectedSpaces => {\n      this.setState({\n        selectedSpaces\n      });\n    });\n\n    _defineProperty(this, \"onSelectionChangeHandler\", selectedItems => {\n      this.setState({\n        selectedItems\n      });\n    });\n\n    _defineProperty(this, \"removeManyTasks\", () => {\n      const {\n        selectedItems\n      } = this.state;\n\n      if (capabilities.delete && selectedItems.length) {\n        selectedItems.forEach(({\n          id\n        }) => {\n          httpClient.delete(`/api/ezreporting/tasks/${id}`).then(() => {\n            this.refreshData();\n            toasts.addSuccess({\n              title: 'Success',\n              text: /*#__PURE__*/React.createElement(FormattedMessage, {\n                id: \"ezReporting.removalSuccess\",\n                defaultMessage: \"Task removed successfully.\"\n              })\n            });\n          }).catch(() => {\n            toasts.addDanger({\n              title: 'Error',\n              text: /*#__PURE__*/React.createElement(FormattedMessage, {\n                id: \"ezReporting.removalError\",\n                defaultMessage: \"An error occurred during the removal task.\"\n              })\n            });\n          });\n        });\n        this.closeDestroyModal();\n      }\n    });\n\n    _defineProperty(this, \"openDestroyModal\", () => {\n      this.setState({\n        showDestroyModal: true\n      });\n    });\n\n    _defineProperty(this, \"closeDestroyModal\", () => {\n      this.setState({\n        showDestroyModal: false\n      });\n    });\n\n    _defineProperty(this, \"closePopover\", () => {\n      this.setState({\n        isPopoverOpen: false\n      });\n    });\n\n    _defineProperty(this, \"onButtonClick\", () => {\n      this.setState({\n        isPopoverOpen: true\n      });\n    });\n\n    this.state = {\n      tasks: [],\n      dashboards: [],\n      frequencies: [],\n      spaces: [],\n      selectedSpaces: [],\n      accessDenied: false,\n      selectedItems: [],\n      showDestroyModal: false,\n      isPopoverOpen: false,\n      tasksInProgress: {},\n      delay: 5000\n    };\n  }\n\n  render() {\n    const {\n      basename,\n      navigation,\n      admin,\n      applicationName\n    } = this.props;\n    const {\n      tasks,\n      dashboards,\n      spaces,\n      selectedSpaces,\n      accessDenied,\n      selectedItems,\n      showDestroyModal,\n      isPopoverOpen,\n      frequencies,\n      tasksInProgress\n    } = this.state;\n\n    if (accessDenied) {\n      const defaultMsg = `\n        You are not authorized to access Reporting.\n        To use Reporting management, you need the privileges granted by the \\`reporting\\` role.\n      `;\n      return /*#__PURE__*/React.createElement(EuiEmptyPrompt, {\n        iconType: \"reportingApp\",\n        title: /*#__PURE__*/React.createElement(\"h2\", null, /*#__PURE__*/React.createElement(FormattedMessage, {\n          id: \"ezReporting.accessDeniedTitle\",\n          defaultMessage: \"Access denied\"\n        })),\n        body: /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(FormattedMessage, {\n          id: \"ezReporting.accessDenied\",\n          defaultMessage: defaultMsg\n        }), \",\"))\n      });\n    }\n\n    let createBtn;\n\n    if (capabilities.create) {\n      createBtn = /*#__PURE__*/React.createElement(EuiButton, {\n        fill: true,\n        iconType: \"plusInCircleFilled\",\n        isDisabled: dashboards.length > 0 ? false : true,\n        onClick: () => dashboards.length > 0 ? openEditFlyOut(null, false) : null\n      }, /*#__PURE__*/React.createElement(FormattedMessage, {\n        id: \"ezreporting.createNewTask\",\n        defaultMessage: \"New reporting task\"\n      }));\n    }\n\n    let reloadBtn;\n\n    if (capabilities.show) {\n      reloadBtn = /*#__PURE__*/React.createElement(EuiButton, {\n        fill: true,\n        iconType: \"refresh\",\n        onClick: () => this.refreshData()\n      }, /*#__PURE__*/React.createElement(FormattedMessage, {\n        id: \"ezreporting.reloadTasks\",\n        defaultMessage: \"Reload tasks\"\n      }));\n    }\n\n    let tasksList = tasks;\n    let searchBar;\n    let spacesList = [];\n\n    if (admin) {\n      if (spaces.length > 0) {\n        spacesList = spaces.map(space => ({\n          value: space.id,\n          label: space.name,\n          color: space.color\n        }));\n      }\n\n      const renderOption = (option, searchValue, contentClassName) => {\n        const {\n          color,\n          label,\n          value\n        } = option;\n        return /*#__PURE__*/React.createElement(EuiHealth, {\n          color: color\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: contentClassName\n        }, /*#__PURE__*/React.createElement(EuiHighlight, {\n          search: searchValue\n        }, label)));\n      };\n\n      searchBar = /*#__PURE__*/React.createElement(EuiComboBox, {\n        fullWidth: true,\n        options: spacesList,\n        selectedOptions: selectedSpaces,\n        onChange: this.onChange,\n        renderOption: renderOption,\n        placeholder: i18n.translate('ezReporting.searcg', {\n          defaultMessage: 'Search...'\n        }),\n        isClearable: true,\n        \"data-test-subj\": \"spaceSearch\"\n      });\n\n      if (selectedSpaces.length) {\n        const spacesNames = selectedSpaces.map(({\n          label\n        }) => label);\n\n        if (tasks.length > 0) {\n          tasksList = tasks.filter(({\n            space\n          }) => spacesNames.includes(space));\n        }\n      }\n    }\n\n    let destroyModal;\n\n    if (showDestroyModal) {\n      destroyModal = /*#__PURE__*/React.createElement(EuiOverlayMask, null, /*#__PURE__*/React.createElement(EuiConfirmModal, {\n        title: i18n.translate('ezReporting.questionDeleteTasks', {\n          defaultMessage: 'Are you sure you want to delete these tasks ?'\n        }),\n        onCancel: this.closeDestroyModal,\n        onConfirm: this.removeManyTasks,\n        cancelButtonText: \"Cancel\",\n        confirmButtonText: \"Yes, delete tasks\",\n        buttonColor: \"danger\",\n        defaultFocusedButton: \"confirm\"\n      }, /*#__PURE__*/React.createElement(FormattedMessage, {\n        id: \"ezReporting.confirmDeleteTasks\",\n        defaultMessage: \"Are you about to delete the selected tasks.\"\n      })));\n    }\n\n    const panels = [{\n      id: 0,\n      items: [{\n        name: i18n.translate('ezReporting.generate', {\n          defaultMessage: 'Generate'\n        }),\n        icon: /*#__PURE__*/React.createElement(EuiIcon, {\n          type: \"importAction\",\n          size: \"m\"\n        }),\n        onClick: () => {\n          this.downloadManyTask();\n        }\n      }, {\n        name: i18n.translate('ezReporting.remove', {\n          defaultMessage: 'Delete'\n        }),\n        icon: 'trash',\n        onClick: () => {\n          this.openDestroyModal();\n        }\n      }]\n    }];\n    const button = /*#__PURE__*/React.createElement(EuiButton, {\n      iconType: \"arrowDown\",\n      iconSide: \"right\",\n      onClick: this.onButtonClick\n    }, \"Manage \", selectedItems.length, \" task(s)\");\n    let popover;\n\n    if (selectedItems.length) {\n      popover = /*#__PURE__*/React.createElement(EuiFlexItem, {\n        grow: false\n      }, /*#__PURE__*/React.createElement(EuiPopover, {\n        id: \"manageTasks\",\n        button: button,\n        isOpen: isPopoverOpen,\n        closePopover: this.closePopover,\n        panelPaddingSize: \"none\",\n        anchorPosition: \"downLeft\"\n      }, /*#__PURE__*/React.createElement(EuiContextMenu, {\n        initialPanelId: 0,\n        panels: panels\n      })));\n    }\n\n    const restrictWidth = admin ? 'none' : true;\n    const paddingSize = admin ? 'none' : 'l';\n    const descriptionHeader = i18n.translate('ezReporting.manageYourReportingTasks', {\n      defaultMessage: 'Manage your reporting tasks.'\n    });\n    let pageHeader = /*#__PURE__*/React.createElement(EuiPageHeader, {\n      restrictWidth: restrictWidth,\n      pageTitle: i18n.translate('ezReporting.title', {\n        defaultMessage: '{name}',\n        values: {\n          name: `${PLUGIN_NAME} ${applicationName}`\n        }\n      }),\n      rightSideItems: [reloadBtn, createBtn],\n      description: admin ? descriptionHeader : null,\n      bottomBorder: admin\n    });\n    let pageHeaderAdmin;\n\n    if (admin) {\n      pageHeaderAdmin = pageHeader;\n      pageHeader = '';\n    }\n\n    return /*#__PURE__*/React.createElement(Router, {\n      basename: basename\n    }, /*#__PURE__*/React.createElement(EzReportingTaskEditFlyout, {\n      dashboards: dashboards,\n      frequencies: frequencies,\n      spaces: spaces,\n      admin: admin,\n      editTaskHandler: this.editTaskHandler,\n      saveTaskHandler: this.saveTaskHandler\n    }), /*#__PURE__*/React.createElement(EzReportingHistoryFlyout, null), destroyModal, /*#__PURE__*/React.createElement(I18nProvider, null, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(navigation.ui.TopNavMenu, {\n      appName: PLUGIN_ID,\n      showSearchBar: false\n    }), /*#__PURE__*/React.createElement(EuiPage, {\n      paddingSize: paddingSize\n    }, /*#__PURE__*/React.createElement(EuiPageBody, null, pageHeader, /*#__PURE__*/React.createElement(EuiPageContent, {\n      restrictWidth: restrictWidth,\n      borderRadius: \"none\",\n      hasShadow: false,\n      paddingSize: \"none\"\n    }, /*#__PURE__*/React.createElement(EuiPageContentBody, {\n      restrictWidth: restrictWidth\n    }, pageHeaderAdmin, /*#__PURE__*/React.createElement(EuiSpacer, {\n      size: admin ? 'l' : 's'\n    }), /*#__PURE__*/React.createElement(EuiFlexGroup, null, popover, /*#__PURE__*/React.createElement(EuiFlexItem, null, searchBar)), /*#__PURE__*/React.createElement(EuiSpacer, null), /*#__PURE__*/React.createElement(EzReportingTable, {\n      tasks: tasksList,\n      tasksInProgress: tasksInProgress,\n      spaces: spaces,\n      dashboards: dashboards,\n      frequencies: frequencies,\n      admin: this.props.admin,\n      onSelectionChangeHandler: this.onSelectionChangeHandler\n    }))))))));\n  }\n\n}","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component, Fragment } from 'react';\nimport { EuiFlyout, EuiFlyoutHeader, EuiFlyoutBody, EuiTitle, EuiSelect, EuiListGroup, EuiListGroupItem, EuiFieldText, EuiButton, EuiComboBox, EuiFlexGroup, EuiFlexItem, EuiFormRow, EuiForm, EuiCheckbox, EuiSpacer, EuiHealth, EuiHighlight } from '@elastic/eui';\nimport { get, set } from 'lodash';\nimport { FormattedMessage } from '@kbn/i18n/react';\nimport { i18n } from '@kbn/i18n';\nimport { httpClient, toasts, defaultTask, capabilities } from '../../../lib/reporting';\nlet openFlyOutHandler;\nexport function openFlyOut(task, edit) {\n  openFlyOutHandler(task, edit);\n}\nlet closeFlyOutHandler;\nexport function closeFlyOut() {\n  closeFlyOutHandler();\n}\nexport class EzReportingTaskEditFlyout extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"props\", void 0);\n\n    _defineProperty(this, \"state\", void 0);\n\n    _defineProperty(this, \"open\", (dashboard, edit) => {\n      const currentTask = JSON.parse(JSON.stringify(dashboard || defaultTask(this.props.dashboards[0].id)));\n      const currentFrequency = get(currentTask, 'reporting.frequency');\n      const frequency = this.props.frequencies.find(f => f.value === currentFrequency);\n      let receivers = get(currentTask, 'reporting.emails', []);\n\n      if (typeof receivers === 'string') {\n        receivers = receivers.split(',').map(e => e.trim());\n      }\n\n      if (!frequency && this.props.frequencies.length > 0) {\n        // If the task frequency doesn't exist anymore, auto-select first frequency\n        set(currentTask, 'reporting.frequency', this.props.frequencies[0].value);\n      }\n\n      this.setState({\n        isFlyoutVisible: true,\n        currentTask,\n        edit,\n        receivers,\n        email: '',\n        mailErrorMessages: [],\n        dashboardErrorMessages: []\n      });\n    });\n\n    _defineProperty(this, \"close\", () => {\n      this.setState({\n        isFlyoutVisible: false\n      });\n    });\n\n    _defineProperty(this, \"onChangeSpace\", selectedSpaces => {\n      const currentTask = { ...this.state.currentTask\n      };\n\n      if (selectedSpaces.length === 0) {\n        currentTask.space = '';\n        this.setState({\n          currentTask\n        });\n      }\n\n      if (selectedSpaces.length > 0) {\n        currentTask.space = selectedSpaces[0].label;\n        this.setState({\n          currentTask\n        });\n      }\n    });\n\n    _defineProperty(this, \"onChangeDashboard\", selectedDashboards => {\n      const dashboard = selectedDashboards[0];\n      const currentTask = { ...this.state.currentTask\n      };\n      currentTask.dashboardId = dashboard && dashboard.value;\n      const dashboardErrorMessages = [];\n\n      if (!currentTask.dashboardId) {\n        dashboardErrorMessages.push(i18n.translate('ezReporting.pleaseSelectDashboard', {\n          defaultMessage: 'Please select a dashboard'\n        }));\n      }\n\n      this.setState({\n        currentTask,\n        dashboardErrorMessages\n      });\n    });\n\n    _defineProperty(this, \"onChangeFrequency\", event => {\n      const currentTask = { ...this.state.currentTask\n      };\n      currentTask.reporting.frequency = event.target.value;\n      this.setState({\n        currentTask\n      });\n    });\n\n    _defineProperty(this, \"onChangeEmail\", event => {\n      this.setState({\n        email: event.target.value\n      });\n    });\n\n    _defineProperty(this, \"onChangeLayout\", event => {\n      const currentTask = { ...this.state.currentTask\n      };\n      currentTask.reporting.print = event.target.checked;\n      this.setState({\n        currentTask\n      });\n    });\n\n    _defineProperty(this, \"addReceiver\", async event => {\n      event.preventDefault();\n      const {\n        email,\n        receivers\n      } = this.state;\n      const emailsList = email.split(',') || [email];\n      const wrongEmails = [];\n\n      for (let i = 0; i < emailsList.length; i += 1) {\n        try {\n          const body = JSON.stringify({\n            email: emailsList[i]\n          });\n          await httpClient.post('/api/ezreporting/email', {\n            body\n          });\n          const exists = receivers.includes(emailsList[i]);\n\n          if (!exists) {\n            receivers.push(emailsList[i]);\n          }\n        } catch (e) {\n          wrongEmails.push(emailsList[i]);\n        }\n      }\n\n      if (!wrongEmails.length) {\n        this.setState({\n          email: '',\n          mailErrorMessages: [],\n          receivers\n        });\n      }\n\n      if (wrongEmails.length) {\n        const mailErrorMessages = wrongEmails.map(emailAddress => {\n          return i18n.translate('ezReporting.pleaseEnterValidEmail', {\n            values: {\n              EMAIL_ADDRESS: emailAddress\n            },\n            defaultMessage: `Please enter a valid email address ({EMAIL_ADDRESS})`\n          });\n        });\n        this.setState({\n          mailErrorMessages,\n          email: wrongEmails.join(',')\n        });\n      }\n    });\n\n    _defineProperty(this, \"removeReceiver\", email => {\n      this.setState({\n        receivers: this.state.receivers.filter(r => r !== email)\n      });\n    });\n\n    _defineProperty(this, \"saveOrUpdate\", () => {\n      if (capabilities.create) {\n        const {\n          edit,\n          currentTask,\n          receivers\n        } = this.state;\n        set(currentTask, 'reporting.emails', receivers);\n\n        if (edit) {\n          return this.props.editTaskHandler(currentTask).catch(err => toasts.addDanger({\n            title: 'Error',\n            text: get(err, 'data.error', 'Error')\n          }));\n        }\n\n        return this.props.saveTaskHandler(currentTask).catch(err => toasts.addDanger({\n          title: 'Error',\n          text: get(err, 'data.error', 'Error')\n        }));\n      }\n    });\n\n    this.state = {\n      isFlyoutVisible: false,\n      edit: false,\n      currentTask: {\n        id: '',\n        dashboardId: null,\n        exists: false,\n        reporting: {\n          frequency: '',\n          emails: [],\n          createdAt: '',\n          sentAt: '',\n          runAt: '',\n          print: false\n        },\n        space: ''\n      },\n      email: '',\n      receivers: [],\n      mailErrorMessages: [],\n      dashboardErrorMessages: [],\n      spaceErrorMessages: []\n    };\n    openFlyOutHandler = this.open;\n    closeFlyOutHandler = this.close;\n  }\n\n  render() {\n    const {\n      isFlyoutVisible,\n      currentTask,\n      edit,\n      mailErrorMessages,\n      dashboardErrorMessages,\n      spaceErrorMessages,\n      receivers\n    } = this.state;\n    const {\n      dashboards,\n      frequencies,\n      admin,\n      spaces\n    } = this.props;\n    let dashboardList = dashboards.map(dashboard => ({\n      value: dashboard.id,\n      label: dashboard.name\n    }));\n    let currentSpaces = [];\n\n    if (admin && currentTask.id.length > 0) {\n      currentSpaces = spaces.filter(space => space.name === currentTask.space).map(space => ({\n        value: space.id,\n        label: space.name,\n        color: space.color\n      }));\n      dashboardList = dashboards.filter(dashboard => dashboard.namespace === currentTask.space).map(dashboard => ({\n        value: dashboard.id,\n        label: dashboard.name\n      }));\n    }\n\n    const invalidMail = mailErrorMessages.length > 0;\n    const invalidDashboard = dashboardErrorMessages.length > 0;\n    const invalidSpace = spaceErrorMessages.length > 0;\n    const invalidForm = invalidDashboard || receivers.length === 0;\n    let saveBtn;\n\n    if (capabilities.create) {\n      saveBtn = /*#__PURE__*/React.createElement(EuiFormRow, {\n        fullWidth: true\n      }, /*#__PURE__*/React.createElement(EuiButton, {\n        fill: true,\n        iconType: \"save\",\n        type: \"submit\",\n        onClick: () => this.saveOrUpdate(),\n        disabled: invalidForm,\n        fullWidth: true\n      }, /*#__PURE__*/React.createElement(FormattedMessage, {\n        id: \"ezReporting.save\",\n        defaultMessage: \"Save\"\n      })));\n    }\n\n    if (!isFlyoutVisible) {\n      return /*#__PURE__*/React.createElement(Fragment, null);\n    }\n\n    let title;\n\n    if (edit) {\n      title = /*#__PURE__*/React.createElement(FormattedMessage, {\n        id: \"ezReporting.editingTask\",\n        defaultMessage: \"Editing a reporting task\"\n      });\n    } else {\n      title = /*#__PURE__*/React.createElement(FormattedMessage, {\n        id: \"ezReporting.creatingTask\",\n        defaultMessage: \"Creating a reporting task\"\n      });\n    }\n\n    const receiverItems = receivers.map((email, index) => /*#__PURE__*/React.createElement(EuiListGroupItem, {\n      key: index,\n      label: email,\n      extraAction: {\n        iconType: 'trash',\n        iconSize: 's',\n        'aria-label': `remove receiver ${email}`,\n        onClick: () => {\n          this.removeReceiver(email);\n        }\n      }\n    }));\n    let receiversList;\n\n    if (receiverItems.length > 0) {\n      receiversList = /*#__PURE__*/React.createElement(EuiFormRow, {\n        fullWidth: true\n      }, /*#__PURE__*/React.createElement(EuiListGroup, {\n        maxWidth: false,\n        bordered: true\n      }, receiverItems));\n    }\n\n    if (!edit && admin && currentTask.id.length === 0) {\n      dashboardList = [];\n      currentSpaces = spaces.filter(space => space.name === currentTask.space).map(space => ({\n        value: space.id,\n        label: space.name,\n        color: space.color\n      }));\n      dashboardList = dashboards.filter(dashboard => dashboard.namespace === currentTask.space).map(dashboard => ({\n        value: dashboard.id,\n        label: dashboard.name\n      }));\n    }\n\n    const selectedDashboards = dashboardList.filter(d => d.value === currentTask.dashboardId);\n    let spaceSelector;\n\n    if (admin) {\n      let spacesList = [];\n\n      if (spaces.length > 0) {\n        spacesList = spaces.map(space => ({\n          value: space.id,\n          label: space.name,\n          color: space.color\n        }));\n      }\n\n      const renderOption = (option, searchValue, contentClassName) => {\n        const {\n          color,\n          label\n        } = option;\n        return /*#__PURE__*/React.createElement(EuiHealth, {\n          color: color\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: contentClassName\n        }, /*#__PURE__*/React.createElement(EuiHighlight, {\n          search: searchValue\n        }, label)));\n      };\n\n      spaceSelector = /*#__PURE__*/React.createElement(EuiFormRow, {\n        fullWidth: true,\n        label: /*#__PURE__*/React.createElement(FormattedMessage, {\n          id: \"ezReporting.space\",\n          defaultMessage: \"Space\"\n        }),\n        isInvalid: invalidSpace,\n        error: spaceErrorMessages\n      }, /*#__PURE__*/React.createElement(EuiComboBox, {\n        fullWidth: true,\n        placeholder: i18n.translate('ezReporting.selectSpace', {\n          defaultMessage: 'Select a space'\n        }),\n        singleSelection: true,\n        options: spacesList,\n        selectedOptions: currentSpaces,\n        onChange: this.onChangeSpace,\n        renderOption: renderOption,\n        isClearable: true,\n        isInvalid: invalidSpace,\n        \"data-test-subj\": \"spaceSearch\"\n      }));\n    }\n\n    const flyOutContent = /*#__PURE__*/React.createElement(EuiForm, null, spaceSelector, /*#__PURE__*/React.createElement(EuiFormRow, {\n      fullWidth: true,\n      label: /*#__PURE__*/React.createElement(FormattedMessage, {\n        id: \"ezReporting.dashboard\",\n        defaultMessage: \"Dashboard\"\n      }),\n      isInvalid: invalidDashboard,\n      error: dashboardErrorMessages\n    }, /*#__PURE__*/React.createElement(EuiComboBox, {\n      fullWidth: true,\n      placeholder: i18n.translate('ezReporting.selectDashboard', {\n        defaultMessage: 'Select a dashboard'\n      }),\n      singleSelection: {\n        asPlainText: true\n      },\n      options: dashboardList,\n      selectedOptions: selectedDashboards,\n      onChange: this.onChangeDashboard,\n      isClearable: true,\n      isInvalid: invalidDashboard\n    })), /*#__PURE__*/React.createElement(EuiFormRow, {\n      fullWidth: true,\n      label: /*#__PURE__*/React.createElement(FormattedMessage, {\n        id: \"ezReporting.frequency\",\n        defaultMessage: \"Frequency\"\n      })\n    }, /*#__PURE__*/React.createElement(EuiSelect, {\n      fullWidth: true,\n      options: frequencies,\n      value: currentTask.reporting.frequency,\n      \"aria-label\": i18n.translate('ezReporting.frequency', {\n        defaultMessage: 'Frequency'\n      }),\n      onChange: this.onChangeFrequency\n    })), /*#__PURE__*/React.createElement(EuiSpacer, {\n      size: \"m\"\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.addReceiver\n    }, /*#__PURE__*/React.createElement(EuiFlexGroup, null, /*#__PURE__*/React.createElement(EuiFlexItem, null, /*#__PURE__*/React.createElement(EuiFormRow, {\n      label: /*#__PURE__*/React.createElement(FormattedMessage, {\n        id: \"ezReporting.receiversEmails\",\n        defaultMessage: \"Receivers' email addresses\"\n      }),\n      fullWidth: true,\n      isInvalid: invalidMail,\n      error: mailErrorMessages\n    }, /*#__PURE__*/React.createElement(EuiFieldText, {\n      fullWidth: true,\n      placeholder: \"Email\",\n      value: this.state.email,\n      onChange: this.onChangeEmail\n    }))), /*#__PURE__*/React.createElement(EuiFlexItem, {\n      grow: false\n    }, /*#__PURE__*/React.createElement(EuiFormRow, {\n      hasEmptyLabelSpace: true\n    }, /*#__PURE__*/React.createElement(EuiButton, {\n      iconType: \"plusInCircle\",\n      type: \"submit\"\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"ezReporting.add\",\n      defaultMessage: \"Add\"\n    })))))), /*#__PURE__*/React.createElement(EuiSpacer, {\n      size: \"m\"\n    }), receiversList, /*#__PURE__*/React.createElement(EuiFormRow, {\n      fullWidth: true\n    }, /*#__PURE__*/React.createElement(EuiCheckbox, {\n      id: \"optimize-checkbox\",\n      checked: currentTask.reporting.print,\n      label: /*#__PURE__*/React.createElement(FormattedMessage, {\n        id: \"ezReporting.optimizedForPrinting\",\n        defaultMessage: \"Optimized for printing\"\n      }),\n      onChange: this.onChangeLayout\n    })), saveBtn);\n    return /*#__PURE__*/React.createElement(EuiFlyout, {\n      onClose: this.close,\n      size: \"m\",\n      \"aria-labelledby\": \"flyoutSmallTitle\"\n    }, /*#__PURE__*/React.createElement(EuiFlyoutHeader, {\n      hasBorder: true\n    }, /*#__PURE__*/React.createElement(EuiTitle, {\n      size: \"m\"\n    }, /*#__PURE__*/React.createElement(\"h2\", null, title))), /*#__PURE__*/React.createElement(EuiFlyoutBody, null, flyOutContent));\n  }\n\n}","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Fragment, Component } from 'react';\nimport { EuiFlyout, EuiFlyoutHeader, EuiFlyoutBody, EuiTitle, EuiBadge, EuiBasicTable, EuiButtonIcon, EuiHealth, EuiFlyoutFooter, EuiButton, EuiFlexGroup, EuiFlexItem } from '@elastic/eui';\nimport { FormattedMessage } from '@kbn/i18n/react';\nimport { i18n } from '@kbn/i18n';\nimport { httpClient, toasts, ms2Str, capabilities } from '../../../lib/reporting';\nlet openFlyOutHandler;\nexport function openFlyOut(dashboard, edit) {\n  openFlyOutHandler(dashboard, edit);\n}\nlet closeFlyOutHandler;\nexport function closeFlyOut() {\n  closeFlyOutHandler();\n}\nexport class EzReportingHistoryFlyout extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"state\", void 0);\n\n    _defineProperty(this, \"showDetails\", historyItem => {\n      const expandedRows = { ...this.state.expandedRows\n      };\n      const {\n        logs = []\n      } = historyItem;\n      const columns = [{\n        field: 'date',\n        name: i18n.translate('ezReporting.date', {\n          defaultMessage: 'Date'\n        }),\n        align: 'left',\n        dataType: 'date',\n        width: '180px'\n      }, {\n        field: 'type',\n        name: i18n.translate('ezReporting.type', {\n          defaultMessage: 'Type'\n        }),\n        width: '80px',\n        render: type => {\n          const colors = {\n            error: 'danger',\n            info: 'primary',\n            warn: 'warning'\n          };\n          return /*#__PURE__*/React.createElement(EuiBadge, {\n            color: colors[type] || 'hollow'\n          }, type);\n        }\n      }, {\n        field: 'message',\n        name: i18n.translate('ezReporting.message', {\n          defaultMessage: 'Message'\n        }),\n        align: 'left'\n      }];\n      expandedRows[historyItem.id] = /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(EuiBasicTable, {\n        items: logs,\n        columns: columns\n      }));\n      this.setState({\n        expandedRows\n      });\n    });\n\n    _defineProperty(this, \"hideDetails\", historyId => {\n      const expandedRows = { ...this.state.expandedRows\n      };\n      delete expandedRows[historyId];\n      this.setState({\n        expandedRows\n      });\n    });\n\n    _defineProperty(this, \"toggleDetails\", historyItem => {\n      const rowsExpanded = { ...this.state.expandedRows\n      };\n\n      if (rowsExpanded[historyItem.id]) {\n        this.hideDetails(historyItem.id);\n      } else {\n        this.showDetails(historyItem);\n      }\n    });\n\n    _defineProperty(this, \"refresh\", async () => {\n      const {\n        taskId,\n        expandedRows\n      } = this.state;\n      this.setState({\n        refreshing: true\n      });\n      let historyItems;\n\n      try {\n        const resp = await httpClient.get(`/api/ezreporting/tasks/${taskId}/history`);\n        historyItems = resp;\n      } catch (e) {\n        toasts.addDanger({\n          title: 'Error',\n          text: /*#__PURE__*/React.createElement(FormattedMessage, {\n            id: \"ezReporting.historyError\",\n            defaultMessage: \"An error occurred while loading the history.\"\n          })\n        });\n      }\n\n      historyItems = historyItems || []; // Refresh history logs\n\n      Object.keys(expandedRows).forEach(historyId => {\n        const historyItem = historyItems.find(item => item.id === historyId);\n\n        if (historyItem) {\n          this.showDetails(historyItem);\n        } else {\n          this.hideDetails(historyId);\n        }\n      });\n      this.setState({\n        refreshing: false,\n        historyItems\n      });\n    });\n\n    _defineProperty(this, \"open\", async taskId => {\n      if (!taskId || !capabilities.show) {\n        return false;\n      }\n\n      this.setState({\n        taskId,\n        historyItems: [],\n        isFlyoutVisible: true\n      }, this.refresh);\n    });\n\n    _defineProperty(this, \"close\", () => {\n      this.setState({\n        isFlyoutVisible: false\n      });\n    });\n\n    _defineProperty(this, \"onTableChange\", ({\n      page = {}\n    }) => {\n      const {\n        index: pageIndex,\n        size: pageSize\n      } = page;\n      this.setState({\n        pageIndex,\n        pageSize\n      });\n    });\n\n    this.state = {\n      taskId: {},\n      refreshing: false,\n      isFlyoutVisible: false,\n      historyItems: [],\n      pageIndex: 0,\n      pageSize: 10,\n      expandedRows: {}\n    };\n    openFlyOutHandler = this.open;\n    closeFlyOutHandler = this.close;\n  }\n\n  render() {\n    const {\n      refreshing,\n      isFlyoutVisible,\n      historyItems,\n      expandedRows,\n      pageIndex,\n      pageSize\n    } = this.state;\n\n    if (!isFlyoutVisible) {\n      return /*#__PURE__*/React.createElement(Fragment, null);\n    }\n\n    const columns = [{\n      field: 'startTime',\n      name: i18n.translate('ezReporting.date', {\n        defaultMessage: 'Date'\n      }),\n      sortable: true,\n      dataType: 'date',\n      align: 'left'\n    }, {\n      field: 'status',\n      name: i18n.translate('ezReporting.status', {\n        defaultMessage: 'Status'\n      }),\n      sortable: true,\n      align: 'left',\n      width: '140px',\n      render: status => {\n        switch (status) {\n          case 'error':\n            return /*#__PURE__*/React.createElement(EuiHealth, {\n              color: \"danger\"\n            }, i18n.translate('ezReporting.error', {\n              defaultMessage: 'Error'\n            }));\n\n          case 'completed':\n            return /*#__PURE__*/React.createElement(EuiHealth, {\n              color: \"success\"\n            }, i18n.translate('ezReporting.completed', {\n              defaultMessage: 'Completed'\n            }));\n\n          case 'pending':\n            return /*#__PURE__*/React.createElement(EuiHealth, {\n              color: \"primary\"\n            }, i18n.translate('ezReporting.pending', {\n              defaultMessage: 'Pending'\n            }));\n\n          case 'ongoing':\n            return /*#__PURE__*/React.createElement(EuiHealth, {\n              color: \"primary\"\n            }, i18n.translate('ezReporting.ongoing', {\n              defaultMessage: 'Ongoing'\n            }));\n\n          default:\n            return /*#__PURE__*/React.createElement(EuiHealth, {\n              color: \"subdued\"\n            }, i18n.translate('ezReporting.unknown', {\n              defaultMessage: 'Unknown'\n            }));\n        }\n      }\n    }, {\n      field: 'executionTime',\n      name: i18n.translate('ezReporting.executionTime', {\n        defaultMessage: 'Execution time'\n      }),\n      sortable: true,\n      align: 'right',\n      width: '140px',\n      render: executionTime => {\n        return ms2Str(executionTime);\n      }\n    }, {\n      align: 'right',\n      width: '40px',\n      isExpander: true,\n      render: item => /*#__PURE__*/React.createElement(EuiButtonIcon, {\n        onClick: () => this.toggleDetails(item),\n        \"aria-label\": expandedRows[item.id] ? 'Collapse' : 'Expand',\n        iconType: expandedRows[item.id] ? 'arrowUp' : 'arrowDown'\n      })\n    }];\n    const pagination = {\n      pageIndex,\n      pageSize,\n      totalItemCount: historyItems.length,\n      pageSizeOptions: [10, 20, 30],\n      hidePerPageOptions: false\n    };\n    const startIndex = pageIndex * pageSize;\n    const endIndex = Math.min(startIndex + pageSize, historyItems.length);\n    return /*#__PURE__*/React.createElement(EuiFlyout, {\n      onClose: this.close,\n      size: \"m\",\n      \"aria-labelledby\": \"flyoutSmallTitle\"\n    }, /*#__PURE__*/React.createElement(EuiFlyoutHeader, {\n      hasBorder: true\n    }, /*#__PURE__*/React.createElement(EuiTitle, {\n      size: \"m\"\n    }, /*#__PURE__*/React.createElement(\"h2\", null, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"ezReporting.history\",\n      defaultMessage: \"History\"\n    })))), /*#__PURE__*/React.createElement(EuiFlyoutBody, null, /*#__PURE__*/React.createElement(EuiBasicTable, {\n      items: historyItems.slice(startIndex, endIndex),\n      itemId: \"id\",\n      itemIdToExpandedRowMap: this.state.expandedRows,\n      isExpandable: true,\n      columns: columns,\n      pagination: pagination,\n      onChange: this.onTableChange\n    })), /*#__PURE__*/React.createElement(EuiFlyoutFooter, null, /*#__PURE__*/React.createElement(EuiFlexGroup, {\n      justifyContent: \"flexEnd\"\n    }, /*#__PURE__*/React.createElement(EuiFlexItem, {\n      grow: false\n    }, /*#__PURE__*/React.createElement(EuiButton, {\n      iconType: \"refresh\",\n      onClick: this.refresh,\n      isLoading: refreshing,\n      fill: true\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"ezReporting.refresh\",\n      defaultMessage: \"Refresh\"\n    }))))));\n  }\n\n}","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component, Fragment } from 'react';\nimport { i18n } from '@kbn/i18n';\nimport { FormattedMessage } from '@kbn/i18n/react';\nimport { EuiBasicTable, EuiDescriptionList, EuiButtonIcon, EuiLink, EuiTextColor, EuiIcon, EuiImage, EuiToolTip, EuiBadge, EuiLoadingSpinner } from '@elastic/eui';\nimport moment from 'moment';\nimport { openFlyOut as openEditFlyOut } from './flyout/edit';\nimport { openFlyOut as openHistoryFlyOut } from './flyout/history';\nimport { convertFrequency, toasts, capabilities, httpClient } from '../../lib/reporting';\nimport printer from '../../public/images/printer.png';\nexport class EzReportingTable extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"props\", void 0);\n\n    _defineProperty(this, \"state\", void 0);\n\n    _defineProperty(this, \"toggleDetails\", item => {\n      const itemIdToExpandedRowMap = { ...this.state.itemIdToExpandedRowMap\n      };\n\n      if (itemIdToExpandedRowMap[item.id]) {\n        delete itemIdToExpandedRowMap[item.id];\n        return this.setState({\n          itemIdToExpandedRowMap\n        });\n      }\n\n      const {\n        reporting\n      } = item;\n      const receivers = Array.isArray(reporting.emails) ? reporting.emails.join(', ') : reporting.emails;\n      const dsh = this.props.dashboards.find(({\n        id,\n        namespace\n      }) => {\n        if (id !== item.dashboardId && namespace !== item.namespace) {\n          return false;\n        }\n\n        return true;\n      });\n      const listItems = [{\n        title: /*#__PURE__*/React.createElement(FormattedMessage, {\n          id: \"ezReporting.dashboardDescription\",\n          defaultMessage: \"Description\"\n        }),\n        description: dsh.description || 'N/A'\n      }, {\n        title: /*#__PURE__*/React.createElement(FormattedMessage, {\n          id: \"ezReporting.receiversEmails\",\n          defaultMessage: \"Receivers' email addresses\"\n        }),\n        description: receivers\n      }, {\n        title: /*#__PURE__*/React.createElement(FormattedMessage, {\n          id: \"ezReporting.nextReport\",\n          defaultMessage: \"Next report\"\n        }),\n        description: reporting.runAt ? moment(reporting.runAt).format('YYYY-MM-DD hh:mm') : 'N/A'\n      }, {\n        title: /*#__PURE__*/React.createElement(FormattedMessage, {\n          id: \"ezReporting.createdAt\",\n          defaultMessage: \"Creation date\"\n        }),\n        description: reporting.createdAt ? moment(reporting.createdAt).format('YYYY-MM-DD') : 'N/A'\n      }];\n      itemIdToExpandedRowMap[item.id] = /*#__PURE__*/React.createElement(EuiDescriptionList, {\n        listItems: listItems\n      });\n      return this.setState({\n        itemIdToExpandedRowMap\n      });\n    });\n\n    _defineProperty(this, \"onTableChange\", ({\n      page = {},\n      sort = {}\n    }) => {\n      const {\n        index: pageIndex,\n        size: pageSize\n      } = page;\n      const {\n        field: sortField,\n        direction: sortDirection\n      } = sort;\n      this.setState({\n        pageIndex,\n        pageSize,\n        sortField,\n        sortDirection\n      });\n    });\n\n    this.state = {\n      itemIdToExpandedRowMap: {},\n      pageIndex: 0,\n      pageSize: 10,\n      sortField: 'space',\n      sortDirection: 'asc',\n      tasksInProgress: {}\n    };\n  }\n\n  render() {\n    const {\n      pageIndex,\n      pageSize,\n      itemIdToExpandedRowMap,\n      sortField,\n      sortDirection\n    } = this.state;\n    const {\n      tasks,\n      tasksInProgress,\n      spaces,\n      dashboards,\n      frequencies,\n      onSelectionChangeHandler\n    } = this.props;\n    const actions = [];\n\n    if (capabilities.edit) {\n      actions.push({\n        name: i18n.translate('ezReporting.edit', {\n          defaultMessage: 'Edit'\n        }),\n        description: i18n.translate('ezReporting.edit', {\n          defaultMessage: 'Edit'\n        }),\n        icon: 'pencil',\n        type: 'icon',\n        color: 'primary',\n        onClick: el => {\n          if (el.exists) {\n            return openEditFlyOut(el, true);\n          }\n\n          return toasts.addDanger({\n            title: 'Error',\n            text: /*#__PURE__*/React.createElement(FormattedMessage, {\n              id: \"ezReporting.dashboardNotFound\",\n              values: {\n                DASHBOARDid: el.dashboardId\n              },\n              defaultMessage: \"Dashboard nof found or remove (id: {DASHBOARDid})\"\n            })\n          });\n        }\n      });\n    }\n\n    if (capabilities.edit) {\n      actions.push({\n        name: i18n.translate('ezReporting.clone', {\n          defaultMessage: 'Clone'\n        }),\n        description: i18n.translate('ezReporting.clone', {\n          defaultMessage: 'Clone'\n        }),\n        icon: 'copy',\n        type: 'icon',\n        color: 'primary',\n        onClick: el => {\n          if (el.exists) {\n            return openEditFlyOut(el, false);\n          }\n\n          return toasts.addDanger({\n            title: 'Error',\n            text: /*#__PURE__*/React.createElement(FormattedMessage, {\n              id: \"ezReporting.dashboardNotFound\",\n              values: {\n                DASHBOARDid: el.dashboardId\n              },\n              defaultMessage: \"Dashboard nof found or remove (id: {DASHBOARDid})\"\n            })\n          });\n        }\n      });\n    }\n\n    if (capabilities.show) {\n      actions.push({\n        name: i18n.translate('ezReporting.history', {\n          defaultMessage: 'History'\n        }),\n        description: i18n.translate('ezReporting.history', {\n          defaultMessage: 'History'\n        }),\n        icon: 'clock',\n        type: 'icon',\n        color: 'primary',\n        onClick: el => {\n          if (el.exists) {\n            openHistoryFlyOut(el.id, false);\n          }\n        }\n      });\n    }\n\n    const columns = [{\n      field: 'dashboardId',\n      name: i18n.translate('ezReporting.dashboard', {\n        defaultMessage: 'Dashboard'\n      }),\n      description: i18n.translate('ezReporting.dashboardName', {\n        defaultMessage: 'Dashboard name'\n      }),\n      align: 'left',\n      render: (dashboardId, {\n        space\n      }) => {\n        if (dashboardId) {\n          const dashboard = dashboards.find(({\n            id,\n            namespace\n          }) => id === dashboardId && namespace === space);\n\n          if (dashboard) {\n            let dashboardLink = `/app/kibana#/dashboard/${dashboardId}`;\n\n            if (this.props.admin && dashboard.namespace !== 'default') {\n              dashboardLink = `/s/${dashboard.namespace}${dashboardLink}`;\n            }\n\n            return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(EuiLink, {\n              href: httpClient.basePath.prepend(dashboardLink)\n            }, dashboard.name));\n          }\n        }\n\n        return /*#__PURE__*/React.createElement(EuiTextColor, {\n          color: \"warning\"\n        }, /*#__PURE__*/React.createElement(EuiIcon, {\n          type: \"alert\"\n        }), /*#__PURE__*/React.createElement(FormattedMessage, {\n          id: \"ezReporting.dashboardNotFound\",\n          values: {\n            DASHBOARDid: dashboardId\n          },\n          defaultMessage: \"Dashboard nof found or remove (id: {DASHBOARDid})\"\n        }));\n      }\n    }, {\n      field: 'reporting.frequency',\n      name: i18n.translate('ezReporting.frequency', {\n        defaultMessage: 'Frequency'\n      }),\n      description: i18n.translate('ezReporting.frequency', {\n        defaultMessage: 'Frequency'\n      }),\n      render: frequency => convertFrequency(frequencies, frequency),\n      sortable: true,\n      align: 'center'\n    }, {\n      field: 'reporting.sentAt',\n      name: i18n.translate('ezReporting.sentAt', {\n        defaultMessage: 'Last sent'\n      }),\n      description: i18n.translate('ezReporting.sentAt', {\n        defaultMessage: 'Last sent'\n      }),\n      align: 'center',\n      render: sentAt => {\n        if (sentAt && sentAt !== '1970-01-01T12:00:00.000Z') {\n          return moment(sentAt).format('YYYY-MM-DD');\n        }\n\n        return '-';\n      }\n    }, {\n      actions,\n      align: 'right',\n      width: '32px'\n    }, {\n      align: 'right',\n      width: '40px',\n      isExpander: true,\n      render: item => /*#__PURE__*/React.createElement(EuiButtonIcon, {\n        onClick: () => this.toggleDetails(item),\n        \"aria-label\": itemIdToExpandedRowMap[item.id] ? 'Collapse' : 'Expand',\n        iconType: itemIdToExpandedRowMap[item.id] ? 'arrowUp' : 'arrowDown'\n      })\n    }];\n    const hasTaskHistory = Object.keys(tasksInProgress).length > 0;\n\n    if (hasTaskHistory) {\n      columns.splice(0, 0, {\n        field: 'status',\n        name: '',\n        width: '28px',\n        align: 'center',\n        render: (dashboardId, {\n          id\n        }) => {\n          const taskStatus = tasksInProgress[id];\n\n          if (taskStatus) {\n            const {\n              status,\n              log\n            } = taskStatus;\n\n            if (status) {\n              if (status === 'pending' || status === 'ongoing') {\n                return /*#__PURE__*/React.createElement(EuiLoadingSpinner, {\n                  size: \"m\"\n                });\n              } else if (status === 'error') {\n                return /*#__PURE__*/React.createElement(EuiToolTip, {\n                  position: \"bottom\",\n                  content: log\n                }, /*#__PURE__*/React.createElement(EuiIcon, {\n                  type: \"alert\"\n                }));\n              }\n            }\n          }\n        }\n      });\n    }\n\n    let taskOptimzedForPrinting = [];\n\n    if (tasks.length > 0) {\n      taskOptimzedForPrinting = tasks.filter(({\n        reporting\n      }) => reporting.print);\n    }\n\n    if (taskOptimzedForPrinting.length) {\n      columns.splice(hasTaskHistory ? 1 : 0, 0, {\n        field: 'print',\n        name: '',\n        width: '28px',\n        align: 'center',\n        render: (dashboardId, {\n          reporting\n        }) => {\n          if (reporting.print) {\n            return /*#__PURE__*/React.createElement(Fragment, null, ' ', /*#__PURE__*/React.createElement(EuiToolTip, {\n              position: \"right\",\n              content: i18n.translate('ezReporting.optimizedForPrinting', {\n                defaultMessage: 'Optimized for printing'\n              })\n            }, /*#__PURE__*/React.createElement(EuiImage, {\n              alt: i18n.translate('ezReporting.optimizedForPrinting', {\n                defaultMessage: 'Optimized for printing'\n              }),\n              size: 14,\n              url: printer\n            })));\n          }\n        }\n      });\n    }\n\n    if (this.props.admin) {\n      columns.splice(hasTaskHistory ? 2 : 1, 0, {\n        field: 'space',\n        name: i18n.translate('ezReporting.space', {\n          defaultMessage: 'Space'\n        }),\n        description: i18n.translate('ezReporting.space', {\n          defaultMessage: 'Space'\n        }),\n        render: space => {\n          const currentSpace = spaces.find(({\n            name\n          }) => name === space);\n          return /*#__PURE__*/React.createElement(EuiBadge, {\n            color: currentSpace && currentSpace.color ? currentSpace.color : 'default'\n          }, space || '-');\n        },\n        sortable: true,\n        align: 'center'\n      });\n    }\n\n    const pagination = {\n      pageIndex,\n      pageSize,\n      totalItemCount: tasks.length,\n      pageSizeOptions: [10, 20, 30],\n      hidePerPageOptions: false\n    };\n    const sorting = {\n      sort: {\n        field: sortField,\n        direction: sortDirection\n      }\n    };\n    const startIndex = pageIndex * pageSize;\n    const endIndex = Math.min(startIndex + pageSize, tasks.length);\n    const selection = {\n      selectable: task => task === null || task === void 0 ? void 0 : task.id,\n      selectableMessage: selectable => !selectable ? i18n.translate('ezReporting.invalidTask', {\n        defaultMessage: 'Invalid task'\n      }) : undefined,\n      onSelectionChange: onSelectionChangeHandler\n    };\n    const items = tasks.slice(startIndex, endIndex).sort((a, b) => {\n      let first = sortField.split('.').reduce((o, i) => o[i], a);\n      let second = sortField.split('.').reduce((o, i) => o[i], b);\n\n      if (sortField === 'reporting.frequency') {\n        first = convertFrequency(frequencies, first);\n        second = convertFrequency(frequencies, second);\n      }\n\n      if (sortDirection === 'asc') {\n        return first > second;\n      }\n\n      return first < second;\n    });\n    return /*#__PURE__*/React.createElement(EuiBasicTable, {\n      items: items,\n      itemId: \"id\",\n      itemIdToExpandedRowMap: itemIdToExpandedRowMap,\n      isExpandable: true,\n      hasActions: true,\n      columns: columns,\n      pagination: pagination,\n      sorting: sorting,\n      isSelectable: true,\n      selection: selection,\n      onChange: this.onTableChange\n    });\n  }\n\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACLUlEQVR4Xu2aXWrCQBDHMzZ+o33TBx9SBF9t4gnsDfQGHsEj2Bt4BG9Qj5BewOizIOTB9yj4gYLpFEI2SKZJWlc3Zf+wbCCa+f+cWdZMAkoMdTodCyddua/ms9nMiAqgRgEYhqG5rqsr9xcRMyGAZVm2ruuKqFLjUGIG/GMA6PIEwFgmV4DFYvHJE6DdbvPMAH9hrBQBSAAJIAEkAAQBWq3WM05THORmtVwugScAeviJwMTRQw+b0AwgPWVelAx0vR/4jQJg5gUEYBBM0Gw2WdnE0Gq14lpC6CeEgC4nlSgbwTJAl5PKykZkABoCNE1zlRRLDSWWABJgCgBjb00McepRANBoNEQjmK7X636QBj1+MAjxMzAO2dzGaQJwqL0hLQAjHP0rgCEFAPV63RVxEXul5HhA9CKu1Wrp3sgul8s/2gckgASQABMAmJAdY/7daToWOz/AaRAKAAAjx3Hsa4BqteofbzYbnt1pOhY775AA2+3WFr0vhB4XlUqFXgNCAzDIcIByuaztdjtbTADmkQRAjUql0mi/39siAqC31+s/dlAsFhO5OxwOoHjC797i8escr2kErukm3QfM3/SFCoXCrR6/6n/ItvkN0KM7c7SOx6Odz+fnt8gADRDdmfPLIZfLaTi9kB/2dDqdQOEo9OFSfdCAB39/iGUmm836Fz2fzxwBksdS4wDwv2dIHitRBjKZDFGY3GEi/T3FvtF+jN6TZYDWQ163wWFEAXwBBdZR2IFYWGkAAAAASUVORK5CYII=\""],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC3CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACngBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC/SA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACnbA;;;;A","sourceRoot":""}